!function(){function sendData(data){if("undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof JSON){var xmlhttp=new XMLHttpRequest;xmlhttp.open("POST","/human"),xmlhttp.setRequestHeader("Content-Type","application/json"),xmlhttp.send(JSON.stringify(data))}}function uuid(){for(var chars="abcdefghijklmnopqrstuvwxyz0123456789",charCount=chars.length,id="",i=0;i<20;i++)id+=chars.charAt(Math.floor(Math.random()*charCount));return id}function sendFlags(){sendData({pid:pid,site_id:window.humanSiteId,location:window.location.toString(),referrer:document.referrer||null,platform:navigator.platform||null,window_call_phantom:void 0!==window.callPhantom,window_buffer:void 0!==window.Buffer,window_emit:void 0!==window.emit,window_spawn:void 0!==window.spawn,window_webdriver:void 0!==window.webdriver,window_dom_automation:void 0!==window.domAutomation||void 0!==window.domAutomationController})}function sendTime(){var elapsed=Math.floor((Date.now()-begin)/1e3),selapsed=Math.floor((Date.now()-sbegin)/1e3);sendData({pid:pid,site_id:window.humanSiteId,elapsed:elapsed,selapsed:selapsed,scroll:scroll,mouse:mouse}),scroll=0,mouse=0,setTimeout(sendTime,1100+2*elapsed*1e3)}if("string"!=typeof window.humanSiteId)throw new Error("window.humanSiteId must be a string.");var sid=null,sbegin=null,sidCookie=function(name){var value="; "+document.cookie,parts=value.split("; "+name+"=");if(2===parts.length)return parts.pop().split(";").shift()}("sid");if(sidCookie){var sidTokens=sidCookie.split("_");2===sidTokens.length?(sid=sidTokens[0],sbegin=parseInt(sidTokens[1],10)):(sid=sidCookie,sbegin=Date.now())}else sid=uuid(),sbegin=Date.now(),document.cookie="sid="+sid+"_"+sbegin+";path=/";var scroll=0,mouse=0,begin=Date.now(),pid=uuid();setTimeout(sendFlags,1e3),setTimeout(sendTime,2e3),window.addEventListener("scroll",function(){scroll+=1},!1),window.addEventListener("mousemove",function(){mouse+=1},!1)}();